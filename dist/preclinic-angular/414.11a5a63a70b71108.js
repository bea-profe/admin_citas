"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[414],{7414:($,x,n)=>{n.r(x),n.d(x,{MedicalModule:()=>O});var m=n(6814),d=n(649),f=n(685),e=n(9468),S=n(3586);let A=(()=>{class t{constructor(i,s){this.router=i,this.auth=s}canActivate(){if(!localStorage.getItem("token")||!localStorage.getItem("user"))return this.router.navigate([f._.login]),!1;let i=localStorage.getItem("token"),s=JSON.parse(atob(i.split(".")[1])).exp;return!(Math.floor((new Date).getTime()/1e3)>=s&&(this.auth.logout(),1))}static#e=this.\u0275fac=function(s){return new(s||t)(e.LFG(d.F0),e.LFG(S.e))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var b=n(5619),v=n(764);let B=(()=>{class t{constructor(i){this.data=i,this.toggleSideBar=new b.X(localStorage.getItem("isMiniSidebar")||"false"),this.toggleMobileSideBar=new b.X(localStorage.getItem("isMobileSidebar")||"false"),this.expandSideBar=new b.X("false")}switchSideMenuPosition(){localStorage.getItem("isMiniSidebar")?(this.toggleSideBar.next("false"),localStorage.removeItem("isMiniSidebar"),this.data.sideBar.map(i=>{i.menu.map(s=>{const a=sessionStorage.getItem("menuValue");a&&a==s.menuValue&&(s.showSubRoute=!0)})})):(this.toggleSideBar.next("true"),localStorage.setItem("isMiniSidebar","true"),this.data.sideBar.map(i=>{i.menu.map(s=>{s.showSubRoute=!1})}))}switchMobileSideBarPosition(){localStorage.getItem("isMobileSidebar")?(this.toggleMobileSideBar.next("false"),localStorage.removeItem("isMobileSidebar")):(this.toggleMobileSideBar.next("true"),localStorage.setItem("isMobileSidebar","true"))}static#e=this.\u0275fac=function(s){return new(s||t)(e.LFG(v.D))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h=n(95);let I=(()=>{class t{constructor(i,s,a){this.router=i,this.sideBar=s,this.auth=a,this.routes=f._,this.openBox=!1,this.miniSidebar=!1,this.addClass=!1,this.sideBar.toggleSideBar.subscribe(u=>{this.miniSidebar="true"==u});let o=localStorage.getItem("user");this.user=JSON.parse(o||""),console.log(this.user)}getRole(){let i="";return this.user.roles.forEach(s=>{i=s}),i}openBoxFunc(){this.openBox=!this.openBox;var i=document.getElementsByClassName("main-wrapper")[0];this.openBox?i.classList.add("open-msg-box"):i.classList.remove("open-msg-box")}logout(){this.auth.logout()}toggleSideBar(){this.sideBar.switchSideMenuPosition()}toggleMobileSideBar(){this.sideBar.switchMobileSideBarPosition(),this.addClass=!this.addClass;var i=document.getElementsByTagName("html")[0],s=document.getElementById("sidebar");this.addClass?(i.classList.add("menu-opened"),s.classList.add("opened")):(i.classList.remove("menu-opened"),s.classList.remove("opened"))}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(d.F0),e.Y36(B),e.Y36(S.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-header"]],decls:34,vars:4,consts:[[1,"header"],[1,"header-left"],[1,"logo",3,"routerLink"],["src","assets/img/logo.png","width","35","height","35","alt",""],[1,"texto-carmesi"],["id","toggle_btn","href","javascript:void(0);",3,"click"],["src","assets/img/icons/bar-icon.svg","alt",""],["id","mobile_btn","tabindex","0",1,"mobile_btn","float-start",3,"click","keyup.enter"],[1,"top-nav-search","mob-view"],["type","text","placeholder","Buscar",1,"form-control"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"nav","user-menu","float-end"],[1,"nav-item","dropdown","has-arrow","user-profile-list"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"dropdown-toggle","nav-link","user-link"],[1,"user-names"],[1,"user-img"],["src","assets/img/icons/logout.svg","alt","Salir"],[1,"dropdown-menu"],["href","#","onclick","return false;",1,"dropdown-item",3,"click"],[1,"dropdown","mobile-user-menu","float-end"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3),e.TgZ(4,"span",4),e._uU(5,"Fisios"),e.qZA()()(),e.TgZ(6,"a",5),e.NdJ("click",function(){return a.toggleSideBar()}),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"a",7),e.NdJ("click",function(){return a.toggleMobileSideBar()})("keyup.enter",function(){return a.toggleMobileSideBar()}),e._UZ(9,"img",6),e.qZA(),e.TgZ(10,"div",8)(11,"form"),e._UZ(12,"input",9),e.TgZ(13,"a",10),e._UZ(14,"img",11),e.qZA()()(),e.TgZ(15,"ul",12)(16,"li",13)(17,"a",14)(18,"div",15)(19,"h5"),e._uU(20),e.qZA(),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"span",16),e._UZ(24,"img",17),e.qZA()(),e.TgZ(25,"div",18)(26,"a",19),e.NdJ("click",function(){return a.logout()}),e._uU(27,"Salir"),e.qZA()()()(),e.TgZ(28,"div",20)(29,"a",21),e._UZ(30,"i",22),e.qZA(),e.TgZ(31,"div",23)(32,"a",24),e._uU(33,"Salir"),e.qZA()()()()),2&s&&(e.xp6(2),e.Q6J("routerLink",a.routes.adminDashboard),e.xp6(18),e.hij("",a.user.name," "),e.xp6(2),e.Oqu(a.getRole()),e.xp6(10),e.Q6J("routerLink",a.routes.login))},dependencies:[h._Y,h.JL,h.F,d.rH],styles:[".texto-carmesi[_ngcontent-%COMP%]{color:green}"]})}return t})();var J=n(2700);function U(t,r){if(1&t&&e._UZ(0,"i",12),2&t){const i=e.oxw(2).$implicit;e.Tol(i.icon)}}function y(t,r){if(1&t&&(e.TgZ(0,"li")(1,"a",4)(2,"span",5),e.YNc(3,U,1,2,"i",10),e._UZ(4,"img",11),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"titlecase"),e.qZA()()()),2&t){const i=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.ekj("active",s.base===i.base),e.Q6J("routerLink",i.route),e.xp6(2),e.Q6J("ngIf",!0===i.faIcon),e.xp6(1),e.Q6J("src",i.img,e.LSH),e.xp6(2),e.Oqu(e.lcZ(7,6,i.menuValue))}}function L(t,r){if(1&t&&e._UZ(0,"i",12),2&t){const i=e.oxw(2).$implicit;e.Tol(i.icon)}}function R(t,r){if(1&t&&(e.TgZ(0,"a",4),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const i=e.oxw().$implicit,s=e.oxw(4);e.ekj("active",s.currentUrl===i.base),e.Q6J("routerLink",i.route),e.xp6(1),e.hij(" ",e.lcZ(2,4,i.menuValue)," ")}}function P(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"li",15),e.YNc(2,R,3,6,"a",16),e.qZA(),e.BQk()),2&t){const i=r.$implicit,s=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngClass",!0===s.showSubRoute?"d-block":"d-none"),e.xp6(1),e.Q6J("ngIf",i.show_nav)}}const Q=function(t){return{subdrop:t}};function F(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"li",13)(1,"a",14),e.NdJ("click",function(){e.CHM(i);const a=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.expandSubMenus(a))}),e.TgZ(2,"span",5),e.YNc(3,L,1,2,"i",10),e._UZ(4,"img",11),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e._UZ(8,"span"),e.qZA(),e.TgZ(9,"ul"),e.YNc(10,P,3,2,"ng-container",2),e.qZA()()}if(2&t){const i=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.ekj("active",s.base===i.base),e.Q6J("ngClass",e.VKq(9,Q,!0===i.showSubRoute)),e.xp6(2),e.Q6J("ngIf",!0===i.faIcon),e.xp6(1),e.Q6J("src",i.img,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(7,7,i.menuValue),""),e.xp6(4),e.Q6J("ngForOf",i.subMenus)}}function Y(t,r){if(1&t&&(e.ynx(0),e.YNc(1,y,8,8,"li",8),e.YNc(2,F,11,11,"li",9),e.BQk()),2&t){const i=r.$implicit;e.xp6(1),e.Q6J("ngIf",!1===i.hasSubRoute),e.xp6(1),e.Q6J("ngIf",!0===i.hasSubRoute)}}function N(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"li",7)(2,"span"),e._uU(3),e.ALo(4,"titlecase"),e.qZA()(),e.YNc(5,Y,3,2,"ng-container",2),e.BQk()),2&t){const i=r.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,2,i.tittle)),e.xp6(2),e.Q6J("ngForOf",i.menu)}}let V=(()=>{class t{constructor(i,s,a,o){this.data=i,this.router=s,this.sideBar=a,this.authService=o,this.base="",this.page="",this.currentUrl="",this.classAdd=!1,this.multilevel=[!1,!1,!1],this.routes=f._,this.sidebarData=[];let u=localStorage.getItem("user");if(this.user=JSON.parse(u||""),this.user&&this.user.roles.includes("Super-Admin"))this.sidebarData=this.data.sideBar;else{let l=this.user.permission,g=[];this.data.sideBar.forEach(Z=>{let p=[];Z.menu.forEach(c=>{if(c.subMenus.length>0){let M=c.subMenus.filter(T=>l.includes(T.permision)&&T.show_nav);M.length>0&&(c.subMenus=M,p.push(c))}else l.includes(c.permision)&&(c.subMenus=[],p.push(c))}),p.length>0&&(Z.menu=p,g.push(Z))}),this.sidebarData=this.data.sideBar}s.events.subscribe(l=>{l instanceof d.m2&&this.getRoutes(l)}),this.getRoutes(this.router)}logout(){this.auth.logout()}expandSubMenus(i){sessionStorage.setItem("menuValue",i.menuValue),this.sidebarData.map(s=>{s.menu.map(a=>{a.menuValue==i.menuValue?i.showSubRoute=!i.showSubRoute:a.showSubRoute=!1})})}getRoutes(i){const s=document.body;s.classList.remove("slide-nav"),s.classList.remove("opened"),this.currentUrl=i.url;const a=i.url.split("/");this.base=a[1],this.page=a[2]}miniSideBarMouseHover(i){this.sideBar.expandSideBar.next("over"==i?"true":"false")}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(v.D),e.Y36(d.F0),e.Y36(B),e.Y36(S.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-sidebar"]],decls:11,vars:2,consts:[["id","sidebar","tabindex","0",1,"sidebar",3,"mouseover","mouseout","focus","blur"],["id","sidebar-menu",1,"sidebar-menu"],[4,"ngFor","ngForOf"],[1,"logout-btn"],[3,"routerLink"],[1,"menu-side"],["src","assets/img/icons/logout.svg","alt",""],[1,"menu-title"],[4,"ngIf"],["class","submenu",4,"ngIf"],["class","fa",3,"class",4,"ngIf"],["alt","",3,"src"],[1,"fa"],[1,"submenu"],["href","javascript:void(0)",3,"ngClass","click"],[3,"ngClass"],[3,"routerLink","active",4,"ngIf"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0),e.NdJ("mouseover",function(){return a.miniSideBarMouseHover("over")})("mouseout",function(){return a.miniSideBarMouseHover("out")})("focus",function(){return a.miniSideBarMouseHover("over")})("blur",function(){return a.miniSideBarMouseHover("out")}),e.TgZ(1,"ng-scrollbar")(2,"div",1)(3,"ul"),e.YNc(4,N,6,4,"ng-container",2),e.qZA(),e.TgZ(5,"div",3)(6,"a",4)(7,"span",5),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Logout"),e.qZA()()()()()()),2&s&&(e.xp6(4),e.Q6J("ngForOf",a.sidebarData),e.xp6(2),e.Q6J("routerLink",a.routes.login))},dependencies:[m.mk,m.sg,m.O5,J.KC,d.rH,m.rS]})}return t})();const H=function(t,r,i){return{"expand-menu":t,"mini-sidebar":r,"slide-nav":i}},C=function(t){return{"d-none":t}},D=function(t){return{opened:t}},j=[{path:"",component:(()=>{class t{constructor(i,s,a){this.sideBar=i,this.router=s,this.data=a,this.miniSidebar="false",this.expandMenu="false",this.mobileSidebar="false",this.sideBarActivePath=!1,this.headerActivePath=!1,this.base="",this.page="",this.currentUrl="",this.sideBar.toggleSideBar.subscribe(o=>{this.miniSidebar="true"==o?"true":"false"}),this.sideBar.toggleMobileSideBar.subscribe(o=>{this.mobileSidebar="true"==o||"true"==o?"true":"false"}),this.sideBar.expandSideBar.subscribe(o=>{this.expandMenu=o,"false"==o&&"true"==this.miniSidebar&&this.data.sideBar.map(u=>{u.menu.map(l=>{l.showSubRoute=!1})}),"true"==o&&"true"==this.miniSidebar&&this.data.sideBar.map(u=>{u.menu.map(l=>{const g=sessionStorage.getItem("menuValue");l.showSubRoute=!(!g||g!=l.menuValue)})})}),this.getRoutes(this.router)}toggleMobileSideBar(){this.sideBar.switchMobileSideBarPosition()}getRoutes(i){"confirm-mail"===i.url.split("/")[2]?(this.sideBarActivePath=!1,this.headerActivePath=!1):(this.sideBarActivePath=!0,this.headerActivePath=!0)}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(B),e.Y36(d.F0),e.Y36(v.D))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-medical"]],decls:5,vars:14,consts:[[1,"main-wrapper",3,"ngClass"],[3,"ngClass"],[1,"sidebar-overlay",3,"ngClass"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"app-header",1)(2,"app-sidebar",1)(3,"router-outlet")(4,"div",2),e.qZA()),2&s&&(e.Q6J("ngClass",e.kEZ(4,H,"true"===a.expandMenu&&"true"===a.miniSidebar,"true"===a.miniSidebar,"true"===a.mobileSidebar)),e.xp6(1),e.Q6J("ngClass",e.VKq(8,C,!1===a.sideBarActivePath&&!1===a.headerActivePath)),e.xp6(1),e.Q6J("ngClass",e.VKq(10,C,!1===a.sideBarActivePath&&!1===a.headerActivePath)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,D,"true"===a.mobileSidebar)))},dependencies:[m.mk,d.lC,I,V]})}return t})(),canActivate:[A],children:[{path:"roles",loadChildren:()=>Promise.all([n.e(313),n.e(726)]).then(n.bind(n,9726)).then(t=>t.RolesModule)},{path:"staffs",loadChildren:()=>Promise.all([n.e(313),n.e(609)]).then(n.bind(n,8609)).then(t=>t.StaffModule)},{path:"specialities",loadChildren:()=>Promise.all([n.e(313),n.e(592),n.e(603)]).then(n.bind(n,8910)).then(t=>t.SpecialitieModule)},{path:"doctors",loadChildren:()=>Promise.all([n.e(313),n.e(930),n.e(151)]).then(n.bind(n,1151)).then(t=>t.DoctorsModule)},{path:"patients",loadChildren:()=>Promise.all([n.e(313),n.e(14)]).then(n.bind(n,5014)).then(t=>t.PatientsModule)},{path:"appointments-m",loadChildren:()=>Promise.all([n.e(313),n.e(930),n.e(986)]).then(n.bind(n,7986)).then(t=>t.AppointmentModule)},{path:"dashboard",loadChildren:()=>n.e(416).then(n.bind(n,2416)).then(t=>t.DashboardModule)},{path:"appointment-calendar",loadChildren:()=>Promise.all([n.e(592),n.e(112)]).then(n.bind(n,9112)).then(t=>t.CalendarAppointmentModule)}]}];let E=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(j),d.Bz]})}return t})();var w=n(8188);let O=(()=>{class t{static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[m.ez,E,w.m,h.u5]})}return t})()}}]);
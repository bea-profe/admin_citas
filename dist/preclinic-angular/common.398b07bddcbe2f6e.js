"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[592],{3356:(E,c,t)=>{t.d(c,{C:()=>g});var a=t(9862),n=t(7876),l=t(9468),h=t(3586);let g=(()=>{class i{constructor(r,e){this.http=r,this.authService=e}listSpecialities(){let r=new a.WM({Authorization:"Bearer "+this.authService.token});return this.http.get(n.$g+"/specialities",{headers:r})}showSpecialities(r){let e=new a.WM({Authorization:"Bearer "+this.authService.token});return this.http.get(n.$g+"/specialities/"+r,{headers:e})}storeSpecialities(r){let e=new a.WM({Authorization:"Bearer "+this.authService.token});return this.http.post(n.$g+"/specialities",r,{headers:e})}editSpecialities(r,e){let s=new a.WM({Authorization:"Bearer "+this.authService.token});return this.http.put(n.$g+"/specialities/"+e,r,{headers:s})}deleteSpecialities(r){let e=new a.WM({Authorization:"Bearer "+this.authService.token});return this.http.delete(n.$g+"/specialities/"+r,{headers:e})}static#t=this.\u0275fac=function(e){return new(e||i)(l.LFG(a.eN),l.LFG(h.e))};static#e=this.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},3586:(E,c,t)=>{t.d(c,{e:()=>e});var a=t(685),n=t(7876),l=t(7398),h=t(6306),g=t(2096),i=t(9468),p=t(649),r=t(9862);let e=(()=>{class s{constructor(o,_){this.router=o,this.http=_,this.getLocalStorage()}getLocalStorage(){if(localStorage.getItem("token")&&localStorage.getItem("user")){let o=localStorage.getItem("user");this.user=JSON.parse(o||""),this.token=localStorage.getItem("token")}else this.user=null,this.token=null}login(o,_){return this.http.post(n.$g+"/auth/login",{email:o,password:_}).pipe((0,l.U)(u=>(console.log(u),this.saveLocalStorage(u))),(0,h.K)(u=>(console.log(u),(0,g.of)(void 0))))}saveLocalStorage(o){return!(!o||!o.access_token||(localStorage.setItem("token",o.access_token),localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("authenticated","true"),0))}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("authenticated"),this.router.navigate([a._.login])}static#t=this.\u0275fac=function(_){return new(_||s)(i.LFG(p.F0),i.LFG(r.eN))};static#e=this.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},7876:(E,c,t)=>{t.d(c,{$g:()=>l});const l="https://api.bambum.es/api"}}]);